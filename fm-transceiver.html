<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FM Transceiver | Denys Shlyakhtovskyy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <a class="back" href="./projects.html">‚Üê Back to Projects</a>

  <div class="container">
    <h1>FM Transceiver</h1>

    <p>
      A low-power FM transceiver designed around the Silicon Labs Si4720,
      focused on RF-aware PCB layout, mixed-signal integration, and digital
      control of RF hardware.
    </p>

    <hr>

    <!-- Make it a button-like link (no scrolling for now) -->
    <a class="section-link" id="schematicsLink" href="#">Schematics</a>

    <!-- Hidden for now -->
    <div id="schematicsContent" hidden>
      <h2>Schematics</h2>
      <p>(Drop your schematics content here)</p>
    </div>

    <script>
      const link = document.getElementById("schematicsLink");

      function computeShiftToViewportCenter(el){
        const rect = el.getBoundingClientRect();
        const elCenter = rect.left + rect.width / 2;
        const viewportCenter = window.innerWidth / 2;
        return viewportCenter - elCenter;
      }

      function centerLink(){
        const shift = computeShiftToViewportCenter(link);
        link.style.setProperty("--shift", `${shift}px`);
        link.classList.add("is-centered");
      }

      function uncenterLink(){
        link.style.setProperty("--shift", `0px`);
        link.classList.remove("is-centered");
      }

      link.addEventListener("click", (e) => {
        e.preventDefault(); // stop anchor scroll

        if (link.classList.contains("is-centered")) {
          uncenterLink();
        } else {
          // set shift first so animation goes from 0 -> shift smoothly
          link.style.setProperty("--shift", `${computeShiftToViewportCenter(link)}px`);
          // ensure browser registers the starting state
          requestAnimationFrame(() => link.classList.add("is-centered"));
        }
      });

      window.addEventListener("resize", () => {
        if (!link.classList.contains("is-centered")) return;
        link.style.setProperty("--shift", `${computeShiftToViewportCenter(link)}px`);
      });
    </script>
  </div>
</body>
</html>
